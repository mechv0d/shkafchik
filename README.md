# Welcome to your Expo app üëã

This is an [Expo](https://expo.dev) project created with [`create-expo-app`](https://www.npmjs.com/package/create-expo-app).

---

## Get started

1. Install dependencies

   ```bash
   npm install
   ```

2. Start the app

   ```bash
   npx expo start
   ```

You can start developing by editing the files inside the **app** directory. This project uses [file-based routing](https://docs.expo.dev/router/introduction).

---

# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è React Query

–í —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ React Query (@tanstack/react-query) –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ç–µ–≤—ã–º–∏/–ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

–ù–∏–∂–µ –æ–ø–∏—Å–∞–Ω –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ ¬´–¥–æ/–ø–æ—Å–ª–µ¬ª, –æ–±—ä—è—Å–Ω–µ–Ω–∏—è query keys, –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫—ç—à–∞, –º—É—Ç–∞—Ü–∏–π, –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ DevTools –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.

–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ (quick links):
- –ü—Ä–æ—Ü–µ—Å—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Äî —à–∞–≥–∏ 2‚Äì9
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ ¬´–¥–æ / –ø–æ—Å–ª–µ¬ª (–∫–æ–¥ –∏ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- –°–ø–∏—Å–æ–∫ query keys –∏ –ª–æ–≥–∏–∫–∞
- –ü—Ä–∏–º–µ—Ä—ã —Ö—É–∫–æ–≤ –∏ API
- DevTools ‚Äî –∫–∞–∫ —Å–Ω–∏–º–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ —Å–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞

---

## 1. LAUNCH

- –£—Å—Ç–∞–Ω–æ–≤–∫–∞: `npm install`
- –ó–∞–ø—É—Å–∫: `npx expo start`
- –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø—Ä–æ–µ–∫—Ç–∞: `npm run reset-project`

---

## 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ QueryClient

–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
- –°–æ–∑–¥–∞–Ω `QueryClient` —Å –±–∞–∑–æ–≤–æ–π –≥–ª–æ–±–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- –û–±–µ—Ä–Ω—É–ª–∏ –∫–æ—Ä–µ–Ω—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ `QueryClientProvider`
- –ü–æ–¥–∫–ª—é—á–∏–ª–∏ React Query DevTools –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏: `staleTime`, `gcTime`/`cacheTime`, `retry`

–ü—Ä–∏–º–µ—Ä (–≤ –ø—Ä–æ–µ–∫—Ç–µ –≤ `src/providers/QueryProvider.tsx`):

- `staleTime: 10_000` (–¥–∞–Ω–Ω—ã–µ —Å—á–∏—Ç–∞—é—Ç—Å—è —Å–≤–µ–∂–∏–º–∏ 10 —Å–µ–∫)
- `gcTime: 5 * 60_000` (–≤ v4 –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è gcTime; —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç cacheTime ‚Äî 5 –º–∏–Ω—É—Ç)
- `retry: 1` (–æ–¥–Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞)

–ó–∞—á–µ–º:
- `staleTime` —É–º–µ–Ω—å—à–∞–µ—Ç —á–∏—Å–ª–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –±—ã—Å—Ç—Ä—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
- `gcTime`/`cacheTime` –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–æ, –∫–∞–∫ –¥–æ–ª–≥–æ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏
- `retry` ‚Äî –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É UX –∏ –Ω–µ–Ω—É–∂–Ω—ã–º —Ç—Ä—ë—Ö–∫—Ä–∞—Ç–Ω—ã–º –ø–æ–≤—Ç–æ—Ä–æ–º

–ì–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å: `src/providers/QueryProvider.tsx`.

---

## 3. –ó–∞–º–µ–Ω–∞ useEffect –Ω–∞ useQuery

–ß—Ç–æ –∏—Å–∫–∞—Ç—å –∏ –º–µ–Ω—è—Ç—å:
1. –ù–∞–π–¥–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∞–ª–∏ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `useEffect` + `setState`.
2. –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ `useQuery` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º `queryKey`.
3. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è `isLoading`, `isError`, `data`.
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ Network/DevTools ‚Äî –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å—Ç–∞–ª–æ –º–µ–Ω—å—à–µ.

–ü—Ä–∏–º–µ—Ä ‚Äî –¥–æ (useEffect):

```tsx
// –¥–æ: –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
useEffect(() => {
  let mounted = true;
  fetchData().then(d => {
    if (mounted) setItems(d.items);
  });
  return () => { mounted = false };
}, []);
```

–ü–æ—Å–ª–µ (useQuery):

```tsx
const { data: items, isLoading, isError } = useQuery({
  queryKey: ['wardrobe'],
  queryFn: fetchWardrobeData,
  select: (d) => d.items,
});
```

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–µ–º
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö, –∞ –Ω–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º mount
- –õ–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ refetch (onFocus, onReconnect, interval)

–í –ø—Ä–æ–µ–∫—Ç–µ –º–∏–Ω–∏–º—É–º 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞/—Ö—É–∫–∞ —É–∂–µ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã:
- `src/hooks/useWardrobeData.ts` ‚Äî –ø–æ–ª–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –≥–∞—Ä–¥–µ—Ä–æ–±–∞ (`['wardrobe']`)
- `src/hooks/useItems.ts` ‚Äî `select` –¥–ª—è —Å–ø–∏—Å–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —ç–∫—Ä–∞–Ω–æ–≤: `HomeScreen`, `ItemDetailScreen`, `AddItemScreen` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–∏ —Ö—É–∫–∏

---

## 4. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ö—É–∫–æ–≤

–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
- –í—ã–Ω–µ—Å–µ–Ω—ã API —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `src/api/wardrobeApi.ts` (fetch/save)
- –°–æ–∑–¥–∞–Ω—ã —Ö—É–∫–∏ –≤ `src/hooks/`:
  - `useWardrobeData` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π query –¥–ª—è –≤—Å–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
  - `useItems` ‚Äî select –¥–ª—è items + –º—É—Ç–∞—Ü–∏–∏ add/update/delete/toggle
  - `useWardrobeMutations` ‚Äî –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –º—É—Ç–∞—Ü–∏–∏ (toggleFavorite)

–ö–æ–Ω—Ç—Ä–∞–∫—Ç —Ö—É–∫–æ–≤ (–∫—Ä–∞—Ç–∫–æ):
- –í—Ö–æ–¥: –Ω–µ—Ç / –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –º—É—Ç–∞—Ü–∏–π
- –í—ã—Ö–æ–¥: { data, isLoading, isError, mutate callbacks }

–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:
- `src/api/` ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É
- `src/hooks/` ‚Äî —Ö—É–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ react-query

---

## 5. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º—É—Ç–∞—Ü–∏–π

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- –ú–∏–Ω–∏–º—É–º 2 –º—É—Ç–∞—Ü–∏–∏: –≤ –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã create (addItem) –∏ update/delete/toggle
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞: –∏—Å–ø–æ–ª—å–∑—É–µ–º `queryClient.setQueryData` –∏ `invalidateQueries`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: onError –≤ –º—É—Ç–∞—Ü–∏—è—Ö –∏ –≤–æ–∑–≤—Ä–∞—Ç –ø—Ä–µ–¥. —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–π –ª–æ–≥–∏–∫–µ

–ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ create (–≤ `useItems`):

```ts
const addItem = useMutation({
  mutationFn: async (newItem) => { /* —Å–æ–∑–¥–∞—ë–º –∏ —Å–µ—Ç–∏–º –≤ –∫—ç—à */ },
  onSuccess: () => queryClient.invalidateQueries(['wardrobe'])
});
```

---

## 6. –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –¥–ª—è toggle favorite –≤ `useWardrobeMutations.ts`:
- onMutate: –æ—Ç–º–µ–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å—ã, —Å–æ—Ö—Ä–∞–Ω—è–µ–º prevState, –ø—Ä–∏–º–µ–Ω—è–µ–º –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `setQueryData`
- onError: –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- onSettled: `invalidateQueries` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º

–ö–æ–Ω—Ç—Ä–∞–∫—Ç –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–π –º—É—Ç–∞—Ü–∏–∏:
- onMutate -> return context —Å previousData
- onError -> restore
- onSettled/onSuccess -> invalidate –∏–ª–∏ setQueryData —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—à–∏–±–æ–∫: –ø—Ä–∏ —Å–∏–º—É–ª—è—Ü–∏–∏ –æ—à–∏–±–∫–∏ (–≤ —Ç–µ—Å—Ç–∞—Ö –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ—à–∏–±–∫–µ) UI –±—É–¥–µ—Ç –æ—Ç–∫–∞—Ç—ë–Ω.

---

## 7. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ/—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ:
- –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: `refetchInterval` –≤ `useWardrobeData` (10 –º–∏–Ω—É—Ç) –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- Dependent queries: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `enabled` –¥–ª—è –∑–∞–≤–∏—Å–∏–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–ø—Ä–∏–º–µ—Ä: –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å userId)
- Prefetching: –≤—ã–∑—ã–≤–∞–π—Ç–µ `prefetchQuery` –Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ö—É–∫–∞—Ö, —á—Ç–æ–±—ã —É—Å–∫–æ—Ä–∏—Ç—å UX
- –ü–æ–∏—Å–∫/—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ query keys ‚Äî `['wardrobe', { filter, q }]` –∏–ª–∏ `['items', filter]` –∏ –æ–ø—Ü–∏—é `enabled` –¥–ª—è –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

–ü—Ä–∏–º–µ—Ä—ã:
- Dependent query:
```ts
useQuery({ queryKey: ['profile', userId], queryFn: fetchProfile, enabled: Boolean(userId) })
```
- Prefetching:
```ts
queryClient.prefetchQuery(['wardrobe'], fetchWardrobeData)
```

---

## 8. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

–ü—Ä–∞–∫—Ç–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ React Query DevTools –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- Network tab –≤ DevTools: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∑–∞–ø—Ä–æ—Å–æ–≤ —É–º–µ–Ω—å—à–∏–ª–æ—Å—å –ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `select` –≤ `useQuery` —á—Ç–æ–±—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—É—é —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (—É–º–µ–Ω—å—à–∞–µ—Ç re-renders)
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ `queryKey` (–ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑—É–π—Ç–µ) –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è unit/integration —Ç–µ—Å—Ç–æ–≤:
- –ú–æ–∫–∞–µ–º `useQuery`/`useMutation` –∏–ª–∏ `QueryClient` –≤ —Ç–µ—Å—Ç–∞—Ö
- –¢–µ—Å—Ç–∏—Ä—É–µ–º optimistic updates: –º–æ–∫–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –∏ –æ—à–∏–±–∫—É, –ø—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–∫–∞—Ç

---

## 9. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ:
- –ì–ª–æ–±–∞–ª—å–Ω–∞—è retry-–ª–æ–≥–∏–∫–∞ —á–µ—Ä–µ–∑ `QueryClient` (retry = 1)
- –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö endpoint-–æ–≤ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å `retry: false` –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
- –î–æ–±–∞–≤—å—Ç–µ fallback UI: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç-–æ–±–æ–ª–æ—á–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫ (toasts / modal)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ offline: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω–æ–π —Å–µ—Ç—å—é (DevTools + —ç–º—É–ª—è—Ç–æ—Ä)

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ ¬´–¥–æ¬ª –∏ ¬´–ø–æ—Å–ª–µ¬ª –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–ö–æ–¥:
- –î–æ: –ª–æ–∫–∞–ª—å–Ω—ã–π useEffect + setState –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö (–ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ loading/error –≤—Ä—É—á–Ω—É—é)
- –ü–æ—Å–ª–µ: —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π fetch –≤ hooks + useQuery, –º—É—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ useMutation, –∫—ç—à –≤ QueryClient

–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ UX:
- –ú–µ–Ω—å—à–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (QueryClient –∫—ç—à–∏—Ä—É–µ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç staleTime)
- –ë—ã—Å—Ç—Ä–µ–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ ‚Äî –¥–∞–Ω–Ω—ã–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∏–∑ –∫—ç—à–∞
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ loading/error
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É–ª—É—á—à–∏–ª–∏ –æ—Ç–∫–ª–∏–∫ UI –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

–ü—Ä–∏–º–µ—Ä—ã –º–µ—Ç—Ä–∏–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏–∑–º–µ—Ä–∏—Ç—å:
- –ß–∏—Å–ª–æ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ —ç–∫—Ä–∞–Ω–∞ ‚Äî —É–º–µ–Ω—å—à–∏–ª–æ—Å—å
- –í—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª–µ–∑–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞ ‚Äî –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ placeholderData/–∫—ç—à–∞ —Å—Ç–∞–ª–æ –∫–æ—Ä–æ—á–µ

---

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ query keys –∏ –ª–æ–≥–∏–∫–∞

–ù–∏–∂–µ ‚Äî —Ç–µ–∫—É—â–∏–µ –∫–ª—é—á–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã.

–¢–µ–∫—É—â–∏–µ –∫–ª—é—á–∏ (—Ä–µ–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ):
- `['wardrobe']` ‚Äî –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –≥–∞—Ä–¥–µ—Ä–æ–±–∞ (items, tags, collections, settings)

–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (–¥–ª—è –ª—É—á—à–µ–π –≥—Ä–∞–Ω–∏—á–∞—â–µ–π –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏):
- `['wardrobe', 'items']` ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- `['wardrobe', 'item', itemId]` ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç
- `['wardrobe', 'tags']` ‚Äî —Å–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤
- `['profile', userId]` ‚Äî –ø—Ä–æ—Ñ–∏–ª—å (–ø—Ä–∏–º–µ—Ä dependent query)

–õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –∫–ª—é—á–µ–π:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Å—Å–∏–≤—ã –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–ø—Ä–æ—Å—Ç—ã–µ –∏ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
- –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –¥–µ–ª–∏—Ç—å –±–æ–ª—å—à–∏–µ –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ –∫–ª—é—á–∏ –Ω–∞ –ø–æ–¥-–∫–ª—é—á–∏ –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —á–∞—Å—Ç–∏—á–Ω–∞—è –∏–Ω–≤–∞–ª–∏–¥–∏–∑–∞—Ü–∏—è
- –í—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–∞–π—Ç–µ –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç (filter, sort, page) –≤ –∫–ª—é—á

---

## –ü—Ä–∏–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤ (–≥–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ)

- `src/providers/QueryProvider.tsx` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è QueryClient –∏ DevTools
- `src/api/wardrobeApi.ts` ‚Äî fetch/save —Ñ—É–Ω–∫—Ü–∏–∏
- `src/hooks/useWardrobeData.ts` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π query –¥–ª—è –≥–∞—Ä–¥–µ—Ä–æ–±–∞ (`['wardrobe']`)
- `src/hooks/useItems.ts` ‚Äî select items + add/update/delete/toggle
- `src/hooks/useWardrobeMutations.ts` ‚Äî –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –º—É—Ç–∞—Ü–∏—è toggleFavorite

---

## DevTools: –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (`npx expo start` / —ç–º—É–ª—è—Ç–æ—Ä).
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `__DEV__` –≤–∫–ª—é—á—ë–Ω –∏ `ReactQueryDevtools` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è (–Ω–∏–∂–Ω–∏–π –ø—Ä–∞–≤—ã–π —É–≥–æ–ª).
3. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Queries".
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏: –æ—Ç–∫—Ä—ã—Ç—å Home ‚Üí –æ—Ç–∫—Ä—ã—Ç—å Item ‚Üí –¥–æ–±–∞–≤–∏—Ç—å/–∏–∑–º–µ–Ω–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å favorite.
5. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–µ—Å—Ç–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ (–ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π):
- `docs/screenshots/devtools-queries-home.png`
- `docs/screenshots/devtools-queries-after-mutation.png`

---

## –†–∞–±–æ—Ç–∞ —Å –æ—à–∏–±–∫–∞–º–∏ –∏ —Å–∏–º—É–ª—è—Ü–∏—è

- –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–∫–∞—Ç–∞ –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π ‚Äî –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ –≤—ã–±—Ä–æ—Å—å—Ç–µ –æ—à–∏–±–∫—É –≤ mutationFn –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ UI –æ—Ç–∫–∞—Ç–∏–ª—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é.
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–µ—Ç–∏ (—ç–º—É–ª—è—Ç–æ—Ä/DevTools ‚Üí Offline).

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- –†–∞–∑–¥–µ–ª–∏—Ç—å `['wardrobe']` –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ –∫–ª—é—á–∏ –µ—Å–ª–∏ —É –≤–∞—Å –Ω–∞—á–Ω—É—Ç —á–∞—Å—Ç–æ –º–µ–Ω—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö (items/tags/settings).
- –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã (CI) –ø—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ.
- –î–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ unit-—Ç–µ—Å—Ç–æ–≤ –Ω–∞ –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –º—É—Ç–∞—Ü–∏–∏ –∏ rollback.


